{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Documentation EMFNet Il \u00e9tait une fois, dans une contr\u00e9e lointaine, une \u00e9cole prestigieuse appel\u00e9e EMF qui formait de jeunes apprentis dans les arts myst\u00e9rieux du R\u00e9seau et des Syst\u00e8mes. Projets EMFNet Centralisation AD EMF-Cloud EMF-Azure EMF-Kubernetes","title":"Documentation EMFNet"},{"location":"#documentation-emfnet","text":"Il \u00e9tait une fois, dans une contr\u00e9e lointaine, une \u00e9cole prestigieuse appel\u00e9e EMF qui formait de jeunes apprentis dans les arts myst\u00e9rieux du R\u00e9seau et des Syst\u00e8mes.","title":"Documentation EMFNet"},{"location":"#projets","text":"EMFNet Centralisation AD EMF-Cloud EMF-Azure EMF-Kubernetes","title":"Projets"},{"location":"centralisationAD/","text":"Analyse Pour ce projet, le but est de mettre en place un serveur Active Directory pour centraliser tous les acc\u00e8s EMFNet. L\u2019id\u00e9e est de rediriger l\u2019authentification des syst\u00e8mes (Radius, Nutanix, VPN, etc.) vers cet AD afin de pouvoir n\u2019utiliser plus qu\u2019un seul login pour tous les syst\u00e8mes et ainsi \u00e9viter de devoir se souvenir quel compte correspond \u00e0 quel appareil ou interface. Cahier des charges Centraliser les acc\u00e8s des syst\u00e8mes vers un AD Mettre en place un serveur Active Directory Le serveur RADIUS relaie les requ\u00eates \u00e0 l\u2019AD Cr\u00e9ation de groupes / utilisateurs Gestion des droits Migration des services Radius Nutanix PRTG SonicWall Migration des utilisateurs R\u00e9diger une documentation pour les utilisateurs Conception Situation initiale Sur le sch\u00e9ma ci-dessous, lorsqu\u2019un utilisateur souhaite se connecter \u00e0 un p\u00e9riph\u00e9rique r\u00e9seau ou \u00e0 des interfaces de management, il lui faut utiliser plusieurs identifiants diff\u00e9rents. Cela implique une mise en place d\u2019outils comme KeePass pour pouvoir se rappeler quel mot de passe et quel nom d\u2019utilisateur utiliser pour se connecter. Ici, il nous faut 6 comptes et mot de passe diff\u00e9rents \u00e0 retenir : Situation d\u00e9sir\u00e9e Notre projet consiste donc \u00e0 centraliser tous les acc\u00e8s afin que l\u2019utilisateur puisse acc\u00e9der aux p\u00e9riph\u00e9riques et aux interfaces avec un seul et m\u00eame identifiant : Comme les p\u00e9riph\u00e9riques r\u00e9seau (switches, routeurs, etc.) n\u2019utilisent pas le protocole LDAP (AD), le serveur RADIUS sert d\u2019interm\u00e9diaire. RADIUS relaie les requ\u00eates vers l\u2019AD afin que celui-ci v\u00e9rifie les informations d\u2019identification. AGDLP Lors de la mise en place de l\u2019AD, il nous faut r\u00e9fl\u00e9chir \u00e0 un concept AGDLP afin d\u2019avoir un aper\u00e7u global de l\u2019infrastructure \u00e0 mettre en place. R\u00e9alisation Int\u00e9gration sur AD Maintenant que les serveurs DNS et DHCP sont install\u00e9s et fonctionnels, il faut commencer \u00e0 migrer les services vers l\u2019AD. Nous allons commencer par les utilisateurs OpenVPN et Jumphost ainsi que le serveur RADIUS car il s\u2019agit de services et des utilisateurs les plus utilis\u00e9s et dont il est important de migrer en premier. OpenVPN R\u00e8gles pares-feux Comme le VPN se trouve dans la DMZ, il faut d\u2019abord ajouter deux r\u00e8gles sur les pares-feux afin de le laisser communiquer avec les AD qui se trouve dans le MGMT : Configurations d\u2019authentification Depuis l\u2019interface OpenVPN, aller dans la section \u00ab Authentication-LDAP \u00bb : Puis, ins\u00e9rer les informations permettant de se connecter avec les identifiants qui se trouvent sur les serveurs AD : Enfin, dans les \u00ab settings \u00bb des authentifications, s\u00e9lectionner le bouton \u00ab LDAP \u00bb : Jumphost En ce qui concerne le jumphost, nous avons chang\u00e9 l\u2019adresse du DNS puis avons int\u00e9gr\u00e9 la VM dans le domaine du nouvel AD \u00ab emfnet.ch \u00bb. Radius Pour que le serveur RADIUS puisse rediriger les requ\u00eates d\u2019authentification qu\u2019il re\u00e7oit des p\u00e9riph\u00e9riques r\u00e9seau vers l\u2019AD, il faut que le service FreeRADIUS puisse communiquer avec le serveur AD. Configurations LDAP \u2013 Joindre le domaine AD Pour se faire, installer et configurer freeradius sur le serveur RADIUS : sudo apt-get update sudo apt-get install freeradius freeradius-ldap Puis configurer le fichier de configurations LDAP (/etc/freeradius/3.0/mods-enabled/ldap) : server = \"ad.example.com\" # Replace with your AD server's address identity = \"cn=binduser,dc=example,dc=com\" # Replace with an AD user with bind permissions password = \"binduser_password\" # Password for the bind user base_dn = \"dc=example,dc=com\" # Replace with your AD domain filter = \"(sAMAccountName=%{%{Stripped-User-Name}:-%{User-Name}})\" start_tls = yes # Enables TLS for security # Set the default_pool setting to optimize connections to the AD server default_pool { start = 5 min = 3 max = 32 spare = 3 Activer le module LDAP dans FreeRADIUS en effectuant un lien symbolique du fichier de configuration (mods-available) vers le r\u00e9pertoire \u00ab mods-enabled \u00bb (si ce n\u2019est pas d\u00e9j\u00e0 fait) : ln -s /etc/freeradius/3.0/mods-available/ldap /etc/freeradius/3.0/mods-enabled/ldap Afin que les utilisateurs qui se trouvent sur l\u2019AD puissent utiliser leurs identifiants pour se connecter sur les p\u00e9riph\u00e9riques r\u00e9seau, il faut indiquer \u00e0 FreeRADIUS d\u2019utiliser \u00ab ldap \u00bb dans le fichier \u00ab /etc/freeradius/3.0/sites-enabled/default \u00bb","title":"Analyse"},{"location":"centralisationAD/#analyse","text":"Pour ce projet, le but est de mettre en place un serveur Active Directory pour centraliser tous les acc\u00e8s EMFNet. L\u2019id\u00e9e est de rediriger l\u2019authentification des syst\u00e8mes (Radius, Nutanix, VPN, etc.) vers cet AD afin de pouvoir n\u2019utiliser plus qu\u2019un seul login pour tous les syst\u00e8mes et ainsi \u00e9viter de devoir se souvenir quel compte correspond \u00e0 quel appareil ou interface.","title":"Analyse"},{"location":"centralisationAD/#cahier-des-charges","text":"Centraliser les acc\u00e8s des syst\u00e8mes vers un AD Mettre en place un serveur Active Directory Le serveur RADIUS relaie les requ\u00eates \u00e0 l\u2019AD Cr\u00e9ation de groupes / utilisateurs Gestion des droits Migration des services Radius Nutanix PRTG SonicWall Migration des utilisateurs R\u00e9diger une documentation pour les utilisateurs","title":"Cahier des charges"},{"location":"centralisationAD/#conception","text":"","title":"Conception"},{"location":"centralisationAD/#situation-initiale","text":"Sur le sch\u00e9ma ci-dessous, lorsqu\u2019un utilisateur souhaite se connecter \u00e0 un p\u00e9riph\u00e9rique r\u00e9seau ou \u00e0 des interfaces de management, il lui faut utiliser plusieurs identifiants diff\u00e9rents. Cela implique une mise en place d\u2019outils comme KeePass pour pouvoir se rappeler quel mot de passe et quel nom d\u2019utilisateur utiliser pour se connecter. Ici, il nous faut 6 comptes et mot de passe diff\u00e9rents \u00e0 retenir :","title":"Situation initiale"},{"location":"centralisationAD/#situation-desiree","text":"Notre projet consiste donc \u00e0 centraliser tous les acc\u00e8s afin que l\u2019utilisateur puisse acc\u00e9der aux p\u00e9riph\u00e9riques et aux interfaces avec un seul et m\u00eame identifiant : Comme les p\u00e9riph\u00e9riques r\u00e9seau (switches, routeurs, etc.) n\u2019utilisent pas le protocole LDAP (AD), le serveur RADIUS sert d\u2019interm\u00e9diaire. RADIUS relaie les requ\u00eates vers l\u2019AD afin que celui-ci v\u00e9rifie les informations d\u2019identification.","title":"Situation d\u00e9sir\u00e9e"},{"location":"centralisationAD/#agdlp","text":"Lors de la mise en place de l\u2019AD, il nous faut r\u00e9fl\u00e9chir \u00e0 un concept AGDLP afin d\u2019avoir un aper\u00e7u global de l\u2019infrastructure \u00e0 mettre en place.","title":"AGDLP"},{"location":"centralisationAD/#realisation","text":"","title":"R\u00e9alisation"},{"location":"centralisationAD/#integration-sur-ad","text":"Maintenant que les serveurs DNS et DHCP sont install\u00e9s et fonctionnels, il faut commencer \u00e0 migrer les services vers l\u2019AD. Nous allons commencer par les utilisateurs OpenVPN et Jumphost ainsi que le serveur RADIUS car il s\u2019agit de services et des utilisateurs les plus utilis\u00e9s et dont il est important de migrer en premier.","title":"Int\u00e9gration sur AD"},{"location":"centralisationAD/#openvpn","text":"","title":"OpenVPN"},{"location":"centralisationAD/#regles-pares-feux","text":"Comme le VPN se trouve dans la DMZ, il faut d\u2019abord ajouter deux r\u00e8gles sur les pares-feux afin de le laisser communiquer avec les AD qui se trouve dans le MGMT :","title":"R\u00e8gles pares-feux"},{"location":"centralisationAD/#configurations-dauthentification","text":"Depuis l\u2019interface OpenVPN, aller dans la section \u00ab Authentication-LDAP \u00bb : Puis, ins\u00e9rer les informations permettant de se connecter avec les identifiants qui se trouvent sur les serveurs AD : Enfin, dans les \u00ab settings \u00bb des authentifications, s\u00e9lectionner le bouton \u00ab LDAP \u00bb :","title":"Configurations d\u2019authentification"},{"location":"centralisationAD/#jumphost","text":"En ce qui concerne le jumphost, nous avons chang\u00e9 l\u2019adresse du DNS puis avons int\u00e9gr\u00e9 la VM dans le domaine du nouvel AD \u00ab emfnet.ch \u00bb.","title":"Jumphost"},{"location":"centralisationAD/#radius","text":"Pour que le serveur RADIUS puisse rediriger les requ\u00eates d\u2019authentification qu\u2019il re\u00e7oit des p\u00e9riph\u00e9riques r\u00e9seau vers l\u2019AD, il faut que le service FreeRADIUS puisse communiquer avec le serveur AD.","title":"Radius"},{"location":"centralisationAD/#configurations-ldap-joindre-le-domaine-ad","text":"Pour se faire, installer et configurer freeradius sur le serveur RADIUS : sudo apt-get update sudo apt-get install freeradius freeradius-ldap Puis configurer le fichier de configurations LDAP (/etc/freeradius/3.0/mods-enabled/ldap) : server = \"ad.example.com\" # Replace with your AD server's address identity = \"cn=binduser,dc=example,dc=com\" # Replace with an AD user with bind permissions password = \"binduser_password\" # Password for the bind user base_dn = \"dc=example,dc=com\" # Replace with your AD domain filter = \"(sAMAccountName=%{%{Stripped-User-Name}:-%{User-Name}})\" start_tls = yes # Enables TLS for security # Set the default_pool setting to optimize connections to the AD server default_pool { start = 5 min = 3 max = 32 spare = 3 Activer le module LDAP dans FreeRADIUS en effectuant un lien symbolique du fichier de configuration (mods-available) vers le r\u00e9pertoire \u00ab mods-enabled \u00bb (si ce n\u2019est pas d\u00e9j\u00e0 fait) : ln -s /etc/freeradius/3.0/mods-available/ldap /etc/freeradius/3.0/mods-enabled/ldap Afin que les utilisateurs qui se trouvent sur l\u2019AD puissent utiliser leurs identifiants pour se connecter sur les p\u00e9riph\u00e9riques r\u00e9seau, il faut indiquer \u00e0 FreeRADIUS d\u2019utiliser \u00ab ldap \u00bb dans le fichier \u00ab /etc/freeradius/3.0/sites-enabled/default \u00bb","title":"Configurations LDAP \u2013 Joindre le domaine AD"},{"location":"emfnet/","text":"Introduction Le projet EMFnet, qui vise \u00e0 g\u00e9rer le r\u00e9seau de notre \u00e9cole, est un d\u00e9fi passionnant et crucial pour la p\u00e9riode du semestre 2 de l'ann\u00e9e acad\u00e9mique 2023-24. En accord avec les objectifs \u00e9tablis par PHPro SA, cette phase de professionnalisation se concentre sur la partie r\u00e9seau, avec des modalit\u00e9s claires pour assurer une gestion efficace et une avanc\u00e9e significative dans nos objectifs. Contexte et objectifs Durant ce semestre, notre principal objectif est de r\u00e9pondre aux besoins en \u00e9volution constante du r\u00e9seau EMFnet. Cela n\u00e9cessite une attention particuli\u00e8re \u00e0 plusieurs aspects, notamment la gestion de projet, la familiarisation avec l'infrastructure existante, l'analyse des besoins futurs, la conception et la mise en \u0153uvre de solutions \u00e9volutives et fiables, ainsi que la maintenance continue pour garantir un fonctionnement optimal. Gestion de projet La priorit\u00e9 r\u00e9side dans la gestion et le suivi m\u00e9ticuleux du mandat du projet. Il est imp\u00e9ratif que chaque apprenti s'engage \u00e0 suivre les directives \u00e9tablies, \u00e0 maintenir une communication transparente avec les chefs de projet, et \u00e0 respecter les \u00e9ch\u00e9ances fix\u00e9es. Familiarisation avec le r\u00e9seau EMFnet La phase initiale du projet implique une prise en main compl\u00e8te du r\u00e9seau EMFnet. Cela exige une immersion dans l'infrastructure existante, la lecture et la mise \u00e0 jour de la documentation pertinente, ainsi qu'une \u00e9valuation approfondie du fonctionnement actuel du r\u00e9seau. En outre, il est essentiel de se familiariser avec les outils de surveillance et de gestion, tels que PRTG, pour garantir une maintenance proactive du r\u00e9seau. Renouvellement Une composante essentielle de ce projet consiste \u00e0 envisager le renouvellement et la transformation du r\u00e9seau EMFnet. Cela implique une analyse approfondie des besoins en \u00e9volution, la conception de solutions innovantes et \u00e9volutives, ainsi que la mise en \u0153uvre progressive de ces solutions tout en minimisant les perturbations pour les utilisateurs finaux. Maintenance Enfin, la maintenance continue du r\u00e9seau EMFnet est cruciale pour assurer une performance optimale et une fiabilit\u00e9 constante. Cela inclut la gestion des licences, la surveillance r\u00e9guli\u00e8re de l'\u00e9tat du r\u00e9seau, le traitement efficace des pannes et des demandes des utilisateurs, ainsi que la mise \u00e0 jour constante de la documentation pour assurer une tra\u00e7abilit\u00e9 et une transparence maximales.","title":"A propos"},{"location":"emfnet/#introduction","text":"Le projet EMFnet, qui vise \u00e0 g\u00e9rer le r\u00e9seau de notre \u00e9cole, est un d\u00e9fi passionnant et crucial pour la p\u00e9riode du semestre 2 de l'ann\u00e9e acad\u00e9mique 2023-24. En accord avec les objectifs \u00e9tablis par PHPro SA, cette phase de professionnalisation se concentre sur la partie r\u00e9seau, avec des modalit\u00e9s claires pour assurer une gestion efficace et une avanc\u00e9e significative dans nos objectifs.","title":"Introduction"},{"location":"emfnet/#contexte-et-objectifs","text":"Durant ce semestre, notre principal objectif est de r\u00e9pondre aux besoins en \u00e9volution constante du r\u00e9seau EMFnet. Cela n\u00e9cessite une attention particuli\u00e8re \u00e0 plusieurs aspects, notamment la gestion de projet, la familiarisation avec l'infrastructure existante, l'analyse des besoins futurs, la conception et la mise en \u0153uvre de solutions \u00e9volutives et fiables, ainsi que la maintenance continue pour garantir un fonctionnement optimal.","title":"Contexte et objectifs"},{"location":"emfnet/#gestion-de-projet","text":"La priorit\u00e9 r\u00e9side dans la gestion et le suivi m\u00e9ticuleux du mandat du projet. Il est imp\u00e9ratif que chaque apprenti s'engage \u00e0 suivre les directives \u00e9tablies, \u00e0 maintenir une communication transparente avec les chefs de projet, et \u00e0 respecter les \u00e9ch\u00e9ances fix\u00e9es.","title":"Gestion de projet"},{"location":"emfnet/#familiarisation-avec-le-reseau-emfnet","text":"La phase initiale du projet implique une prise en main compl\u00e8te du r\u00e9seau EMFnet. Cela exige une immersion dans l'infrastructure existante, la lecture et la mise \u00e0 jour de la documentation pertinente, ainsi qu'une \u00e9valuation approfondie du fonctionnement actuel du r\u00e9seau. En outre, il est essentiel de se familiariser avec les outils de surveillance et de gestion, tels que PRTG, pour garantir une maintenance proactive du r\u00e9seau.","title":"Familiarisation avec le r\u00e9seau EMFnet"},{"location":"emfnet/#renouvellement","text":"Une composante essentielle de ce projet consiste \u00e0 envisager le renouvellement et la transformation du r\u00e9seau EMFnet. Cela implique une analyse approfondie des besoins en \u00e9volution, la conception de solutions innovantes et \u00e9volutives, ainsi que la mise en \u0153uvre progressive de ces solutions tout en minimisant les perturbations pour les utilisateurs finaux.","title":"Renouvellement"},{"location":"emfnet/#maintenance","text":"Enfin, la maintenance continue du r\u00e9seau EMFnet est cruciale pour assurer une performance optimale et une fiabilit\u00e9 constante. Cela inclut la gestion des licences, la surveillance r\u00e9guli\u00e8re de l'\u00e9tat du r\u00e9seau, le traitement efficace des pannes et des demandes des utilisateurs, ainsi que la mise \u00e0 jour constante de la documentation pour assurer une tra\u00e7abilit\u00e9 et une transparence maximales.","title":"Maintenance"},{"location":"nutanix/","text":"Nutanix Termes techniques Acronyme Description PC Prism Central PE Prism Element AOS Acropolis Operating System AHV CVM Controller Virtual Machine Cluster Groupe de minimum 3 nodes physiques qui fonctionnent comme une seule entit\u00e9 Node Infrastructure hyperconverg\u00e9e Serveur physique qui fait partie d\u2019un cluster Compos\u00e9 d\u2019un CPU, RAM et Disques durs Qu\u2019est-ce que c\u2019est Nutanix est une entreprise am\u00e9ricaine qui propose une plateforme logicielle qui combine le stockage, le calcul et la virtualisation tout en un afin de mettre en place des environnements de cloud priv\u00e9 plus simple \u00e0 g\u00e9rer et \u00e0 d\u00e9ployer. \u00ab Prism \u00bb est la web console qui permet d\u2019avoir un aper\u00e7u de l\u2019ensemble des clusters et de l\u2019infrastructure. La gestion est centralis\u00e9e et les d\u00e9ploiements en multicloud sont flexibles : Le sch\u00e9ma ci-dessus repr\u00e9sente l\u2019infrastructure Nutanix mise en place \u00e0 l\u2019EMF : \u2022 Le PC permet une gestion centralis\u00e9e des deux clusters (P\u00e9dagogie et Production) et des VMs \u2022 Les deux PE poss\u00e8dent chacun 3 nodes compos\u00e9s d\u2019un AOS et d\u2019un CVM \u2022 Les nouvelles VMs cr\u00e9\u00e9es sont r\u00e9parties entre les 3 AOS o La r\u00e9partition des VMs est g\u00e9r\u00e9e par les CVM o Elles peuvent \u00eatre g\u00e9r\u00e9es par le PC + le cluster dans lequel elle se trouvent \u2022 Les backups des VMs se font de mani\u00e8re automatis\u00e9e par HYCU \u2022 Les backups sont stock\u00e9s sur la plateforme de cloud computing \u00ab Exoscale \u00bb Voici les racks Nutanix mis en place en salle B22 : Les 6 LEDS allum\u00e9es indiquent qu\u2019il y a 6 nodes (compos\u00e9s d\u2019un Hypervisor AHV et d\u2019un CVM).","title":"Nutanix"},{"location":"nutanix/#nutanix","text":"","title":"Nutanix"},{"location":"nutanix/#termes-techniques","text":"Acronyme Description PC Prism Central PE Prism Element AOS Acropolis Operating System AHV CVM Controller Virtual Machine Cluster Groupe de minimum 3 nodes physiques qui fonctionnent comme une seule entit\u00e9 Node Infrastructure hyperconverg\u00e9e Serveur physique qui fait partie d\u2019un cluster Compos\u00e9 d\u2019un CPU, RAM et Disques durs","title":"Termes techniques"},{"location":"nutanix/#quest-ce-que-cest","text":"Nutanix est une entreprise am\u00e9ricaine qui propose une plateforme logicielle qui combine le stockage, le calcul et la virtualisation tout en un afin de mettre en place des environnements de cloud priv\u00e9 plus simple \u00e0 g\u00e9rer et \u00e0 d\u00e9ployer. \u00ab Prism \u00bb est la web console qui permet d\u2019avoir un aper\u00e7u de l\u2019ensemble des clusters et de l\u2019infrastructure. La gestion est centralis\u00e9e et les d\u00e9ploiements en multicloud sont flexibles : Le sch\u00e9ma ci-dessus repr\u00e9sente l\u2019infrastructure Nutanix mise en place \u00e0 l\u2019EMF : \u2022 Le PC permet une gestion centralis\u00e9e des deux clusters (P\u00e9dagogie et Production) et des VMs \u2022 Les deux PE poss\u00e8dent chacun 3 nodes compos\u00e9s d\u2019un AOS et d\u2019un CVM \u2022 Les nouvelles VMs cr\u00e9\u00e9es sont r\u00e9parties entre les 3 AOS o La r\u00e9partition des VMs est g\u00e9r\u00e9e par les CVM o Elles peuvent \u00eatre g\u00e9r\u00e9es par le PC + le cluster dans lequel elle se trouvent \u2022 Les backups des VMs se font de mani\u00e8re automatis\u00e9e par HYCU \u2022 Les backups sont stock\u00e9s sur la plateforme de cloud computing \u00ab Exoscale \u00bb Voici les racks Nutanix mis en place en salle B22 : Les 6 LEDS allum\u00e9es indiquent qu\u2019il y a 6 nodes (compos\u00e9s d\u2019un Hypervisor AHV et d\u2019un CVM).","title":"Qu\u2019est-ce que c\u2019est"},{"location":"schemas/","text":"Infrastructure de l'EMFNet Schema physique: Sch\u00e9ma logique:","title":"Sch\u00e9mas"},{"location":"schemas/#infrastructure-de-lemfnet","text":"","title":"Infrastructure de l'EMFNet"},{"location":"schemas/#schema-physique","text":"","title":"Schema physique:"},{"location":"schemas/#schema-logique","text":"","title":"Sch\u00e9ma logique:"}]}